<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="">
        <link rel="shortcut icon" href="http://matteohertel.com/wp-content/uploads/favicon.png">

        <title>MH_UI Demo</title>

        <!-- Bootstrap core CSS -->
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.css" />

        <!-- Just for debugging purposes. Don't actually copy this line! -->
        <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
          <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->
    </head>

    <body>

        <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <a class="navbar-brand">MH_UI</a>
                </div>
            </div>
        </div>

        <!-- Main jumbotron for a primary marketing message or call to action -->
        <div class="jumbotron" style="background-color: white">
            <div class="container">
                <h1>Welcome to MH_UI!</h1>
                <p>This is a demo page for the JavaScript wrapper MH_UI, a JS library that made the creation of UI element from Twitter Boostrap easy as pie. Try it yourself!</p>
                <p><a id="launch" class="btn btn-primary btn-lg" role="button">Lauch UI Elements</a></p>
            </div>
        </div>
        <div class="jumbotron" id="components" style="display:none">
            <div class="container">
                <h1>Components</h1>
            </div>
        </div>

        <div class="container">
            <!-- Example row of columns -->
            <div class="row">
                <div class="col-md-4">
                    <h2>Modular</h2>
                    <p>Mh_UI is designed to be as modular as possible, while the dependencies are available you just need to include the MH_UI.js to use it in the way you want, you can
                        just create a single element or create any number of element that interact to each other.</p>
                </div>
                <div class="col-md-4">
                    <h2>Highly configurable</h2>
                    <p>Every components of MH_UI is highly configurable to meet your need but if you want to leave the default options you can create every UI element with very low amount of code</p>
                </div>
                <div class="col-md-4">
                    <h2>Try it</h2>
                    <p>In this demo page you can test all the components, you can launch a demo by clicking the button "Lauch UI Elements" or clicking the following button and write your own code</p>
                    <p><a id="code_writer" class="btn btn-default" href="#" role="button">Write your code</a></p>
                </div>
            </div>

            <div id="code_wrapper" style="display:none" class="row">

                <div class="col-lg-12">
                    <h4>Your Code</h4>
                    <textarea style="display:none" id="code_editor" class="form-control " cols="6" placeholder="Insert your code"></textarea>
                    <!--                    <div style="display:none" id="code_editor" class="form-control"></div>-->
                    <p><a style="display:none" id="code_run" class="btn btn-success pull-right " role="button">Run Code</a></p>
                    <div style="display:none" id="code_error" class="text-danger ">
                    </div>
                </div>
                <div class="col-lg-12">
                    <h4>Result</h4>
                    <div id="code_result" class="well" style="display:none">

                    </div>
                </div>

            </div>

            <hr>

            <footer>
                <p>&copy; Matteo Hertel 2014</p>
            </footer>
        </div> <!-- /container -->


        <!-- Bootstrap core JavaScript
        ================================================== -->
        <!-- Placed at the end of the document so the pages load faster -->
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
        <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>
        
        <script src="js/bootstrap.min.js"></script>
        <script src="js/ui.js"></script>
        <script type="text/javascript">
            (function($) {
                var CodeEditor = {
                    fire: function(config) {
                        this.config = config;
                        this.bindEvents();

                    },
                    bindEvents: function() {
                        var self = CodeEditor;
                        self.config.writer.on('click', self.toggleWriter);
                        self.config.run.on('click', self.runCode);
                    },
                    toggleWriter: function(e) {
                        e.preventDefault();
                        var self = CodeEditor;
                        self.resetDefault();

                        if (self.config.wrapper.is(":visible")) {
                            $(this).text("Write your code");
                            self.config.wrapper.fadeOut(400)
                            self.config.editor.hide()
                            self.config.run.hide()
                        } else {
                            $(this).text("Hide editor");
                            self.config.wrapper.fadeIn(400)
                            self.config.editor.show()
                            self.config.run.show()
                        }
                    },
                    runCode: function(e) {
                        e.preventDefault();
                        var self = CodeEditor;
                        self.resetDefault();
                        var content = self.config.editor.val();
                        if (!content) {
                            self.config.error.html("<h3>Please insert your code</h3>").show();
                            return false;
                        }
                        if (!content.match(/^["UI."]+[a-z]*\((.)*\)/gi)) {
                            self.config.error.html("<h3>You can test only the UI components</h3>").show();
                            return false;
                        }
                        try {
                            var execute = eval(content);
                            self.config.result.html(execute.object).fadeIn(400)
                        }
                        catch (error) {
                            self.config.error.html("<h3>An error occurred</h3><br />" + error).show()
                        }

                    },
                    resetDefault: function() {
                        var self = CodeEditor;
                        self.config.result.html("").hide();
                        self.config.error.html("").hide();
                    }
                };

                CodeEditor.fire({
                    wrapper: $('#code_wrapper'),
                    writer: $('#code_writer'),
                    editor: $('#code_editor'),
                    run: $('#code_run'),
                    result: $('#code_result'),
                    error: $('#code_error')
                });
                
                var UIElements = {
                    fire: function(config) {
                        this.config = config;
                        this.bindEvents();

                    },
                    bindEvents: function() {
                        var self = UIElements;
                        self.config.launch.on('click', self.toggleComponents);
                    },
                    toggleComponents: function(e) {
                        e.preventDefault();
                        var self = UIElements;
                        
                        if (self.config.components.is(":visible")) {
                            self.config.components.children(".container").children().not("h1").remove();
                            self.config.components.slideUp(400);
                        } else {
                            self.config.components.slideDown(400);
                            self.startComponents();
                        }
                        
                    },
                    startComponents : function(){
                        var self = UIElements;
                        self.config.container = self.config.components.children(".container");
                        self.progressbar();
                        self.buttons();
                        self.alerts();
                        self.toasts();
                    },
                    progressbar: function(){
                        var self = UIElements;
                        self.config.container.append($("<h2/>", {text:"Progressbar", style : "cursor: pointer;"}).on("click", function(){
                            UI.modal({title:"<h4>Source Code</h4>", body: '<pre>var div = $("#target_div");<br />var progressbar = UI.progressbar({level:"success",<br /> striped: true,<br /> active:true,<br /> percentage:0<br />});<br /><br />div.append(progressbar.object);<br /><br />div.append(<br />$("&lt;div/&gt;",{id:"progress_bar_slider"}));<br /><br />$("#progress_bar_slider").slider({range:"max",<br />min:0,<br />max:100,<br />value:0,<br />slide:function(event,ui){<br />progressbar.animate({time:5,percentage:ui.value})<br />}});</pre>'})
                        }));
                        self.config.container.append($("<p/>", {text:"An empty progressbar is created, you can adjust the widht with the slider"}));
                        var progressbar = UI.progressbar({level:"success", striped: true, active:true, percentage:0})
                        self.config.container.append(progressbar.object);
                        self.config.container.append($("<div/>", {id:"progress_bar_slider"}));
                        
                        $( "#progress_bar_slider" ).slider({
                        range: "max",
                        min: 0,
                        max: 100,
                        value: 0,
                        slide: function( event, ui ) {
                            progressbar.animate({time:1, percentage: ui.value, id: progressbar.id})
                        }
                      });
                    },
                    buttons: function(){
                        var self = UIElements;
                        self.config.container.append($("<h2/>", {text:"Buttons/Modals"}));
                        self.config.container.append($("<p/>", {text:"A couple of example button, click for an action double click to open a modal with the code"}));
                        var button1 = UI.button({level:"success", size: "lg", text:"Button number 1", actions:{
                                click: function(){$(this).addClass("btn-warning")},
                                dblclick: function(){
                                    UI.modal({title:"<h4>Source Code</h4>", body: '<pre>var button1=UI.button({level:"success",<br />size:"lg",<br />text:"Button number 1",<br />actions:{click:function(){<br />$(this).addClass("btn-warning")}<br />},<br />dblclick:function(){<br />}}<br />});</pre>'})
                                 }
                        }})
                        var button2 = UI.button({level:"danger", text:"Button number 2", actions:{
                                click: function(){button2.changeText({text: "Danger!",id: button2.id})},
                                dblclick: function(){
                                        UI.modal({title:"<h4>Source Code</h4>", body: '<pre>var button2=UI.button({level:"danger",<br /><br />text:"Button number 2",<br />actions:{<br />click:function(){<br />button2.changeText({text:"Danger!", id: button2.id})<br />},<br />dblclick:function(){<br />}<br />}});</pre>'})
                                 }
                        }})
                    var button3 = UI.button("Default button");
                        self.config.container.append(button1.object);
                        self.config.container.append(button2.object);
                    },
                    alerts:function(){
                        var self = UIElements;
                        self.config.container.append($("<h2/>", {text:"Alert"}));
                        self.config.container.append($("<p/>", {text:"Two alerts, one dismissable the other one is not"}));
                        self.config.container.append(UI.alert({
                            level:"success", 
                            dismissable:true, 
                            html:"<h4>Hello</h4><p>Thank you to visit the MH_UI page",
                        }
                                ).append("<br /> This text was append chaining the append method, awesome!"));
                        self.config.container.append(UI.alert("<h4>Awesome</h4><p>I'm one-line of code alert"));
                    },
                    toasts:function(){
                        var self = UIElements;
                        self.config.container.append($("<h2/>", {text:"Toast"}));
                        self.config.container.append($("<p/>", {text:"Some toast examples, click on the button to open the toast"}));
                        var toast1 = UI.button("bottom-left Toast");
                        var toast2 = UI.button("top-right Toast");
                        
                        self.config.container.append(toast1.object);
                        self.config.container.append(toast2.object);
                        
                        toast1.addActions({
                            click:function(){
                                $("body").append(
                                        UI.toast({ 
                                            level:"warning",
                                            position: "bottom-left",
                                            html:"<h4>Hi</h4><p>I'm a toast, I will not disappear until you click on me :D</p>"
                                        }).object);
                                    }
                                }, toast1.object
                                        );
                                
                        toast2.addActions({click:function(){$("body").append(
                                        UI.toast("<h4>Whoa!</h4><p>one-line code toast</p>").object)}});
                    }
                };

                UIElements.fire({
                    components: $('#components'),
                    launch: $('#launch'),
                });
                
                

            }(jQuery));

        </script>

    </body>
</html>
